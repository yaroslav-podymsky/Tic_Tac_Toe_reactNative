{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"style\", \"debug\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { getStyleAndFilteredProps } from \"../theme/styled-system\";\nimport { useTheme } from \"./useTheme\";\nimport React from 'react';\nimport { useNativeBaseConfig } from \"../core/NativeBaseContext\";\nimport { useResponsiveQuery } from \"../utils/useResponsiveQuery\";\nimport { getStyledSystemPropsAndRestProps } from \"../utils/getStyledSystemPropsAndRestProps\";\nimport stableHash from 'stable-hash';\nexport var useStyledSystemPropsResolver = function useStyledSystemPropsResolver(_ref) {\n  var propStyle = _ref.style,\n      debug = _ref.debug,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var theme = useTheme();\n\n  var _useNativeBaseConfig = useNativeBaseConfig('makeStyledComponent'),\n      currentBreakpoint = _useNativeBaseConfig.currentBreakpoint,\n      config = _useNativeBaseConfig.config;\n\n  var strictMode = config.strictMode;\n\n  var _useResponsiveQuery = useResponsiveQuery(),\n      getResponsiveStyles = _useResponsiveQuery.getResponsiveStyles;\n\n  var _getStyledSystemProps = getStyledSystemPropsAndRestProps(props),\n      styledSystemProps = _getStyledSystemProps.styledSystemProps,\n      restProps = _getStyledSystemProps.restProps;\n\n  var _React$useMemo = React.useMemo(function () {\n    var _getStyleAndFilteredP = getStyleAndFilteredProps({\n      styledSystemProps: styledSystemProps,\n      theme: theme,\n      debug: debug,\n      currentBreakpoint: currentBreakpoint,\n      strictMode: strictMode,\n      getResponsiveStyles: getResponsiveStyles\n    }),\n        styleSheet = _getStyleAndFilteredP.styleSheet,\n        dataSet = _getStyleAndFilteredP.dataSet,\n        styleFromProps = _getStyleAndFilteredP.styleFromProps;\n\n    if (propStyle) {\n      return {\n        style: [styleSheet.box, propStyle],\n        dataSet: dataSet,\n        styleFromProps: styleFromProps\n      };\n    } else {\n      return {\n        style: styleSheet.box,\n        dataSet: dataSet,\n        styleFromProps: styleFromProps\n      };\n    }\n  }, [stableHash(styledSystemProps), theme, debug, currentBreakpoint, strictMode, propStyle, getResponsiveStyles, props]),\n      style = _React$useMemo.style,\n      dataSet = _React$useMemo.dataSet,\n      styleFromProps = _React$useMemo.styleFromProps;\n\n  if (process.env.NODE_ENV === 'development' && debug) {\n    console.log('style,resprops', currentBreakpoint);\n  }\n\n  restProps.dataSet = _objectSpread(_objectSpread({}, restProps.dataSet), dataSet);\n  return [style, restProps, styleFromProps];\n};","map":{"version":3,"sources":["useStyledSystemPropsResolver.ts"],"names":["useStyledSystemPropsResolver","style","props","theme","useTheme","config","useNativeBaseConfig","strictMode","getResponsiveStyles","useResponsiveQuery","restProps","getStyledSystemPropsAndRestProps","styleFromProps","getStyleAndFilteredProps","styledSystemProps","debug","currentBreakpoint","styleSheet","dataSet","stableHash","process","console"],"mappings":";;;;;;;;AAAA,SAAA,wBAAA;AACA,SAAA,QAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,mBAAA;AACA,SAAA,kBAAA;AACA,SAAA,gCAAA;AAEA,OAAA,UAAA,MAAA,aAAA;AAEA,OAAO,IAAMA,4BAA4B,GAAG,SAA/BA,4BAA+B,OAIjC;EAAA,IAJkC,SAIlC,QAHTC,KAGS;EAAA,IAJkC,KAIlC,QAJkC,KAIlC;EAAA,IADNC,KACM;;EACT,IAAMC,KAAK,GAAGC,QAAd,EAAA;;EACA,2BAAsCE,mBAAmB,CAAzD,qBAAyD,CAAzD;EAAA,IAAM,iBAAN,wBAAM,iBAAN;EAAA,IAA2BD,MAA3B,wBAA2BA,MAA3B;;EAGA,IAAME,UAAU,GAAGF,MAAM,CAAzB,UAAA;;EAEA,0BAAgCI,kBAAhC,EAAA;EAAA,IAAQD,mBAAR,uBAAQA,mBAAR;;EAEA,4BAAyCG,gCAAgC,CAAzE,KAAyE,CAAzE;EAAA,IAAM,iBAAN,yBAAM,iBAAN;EAAA,IAA2BD,SAA3B,yBAA2BA,SAA3B;;EAIA,qBAA2C,KAAK,CAAL,OAAA,CAAc,YAAM;IAC7D,4BAAgDG,wBAAwB,CAAC;MACvEC,iBADuE,EACvEA,iBADuE;MAEvEX,KAFuE,EAEvEA,KAFuE;MAGvEY,KAHuE,EAGvEA,KAHuE;MAIvEC,iBAJuE,EAIvEA,iBAJuE;MAKvET,UALuE,EAKvEA,UALuE;MAMvEC,mBAAAA,EAAAA;IANuE,CAAD,CAAxE;IAAA,IAAM,UAAN,yBAAM,UAAN;IAAA,IAAM,OAAN,yBAAM,OAAN;IAAA,IAA6BI,cAA7B,yBAA6BA,cAA7B;;IAQA,IAAA,SAAA,EAAe;MACb,OAAO;QAAEX,KAAK,EAAE,CAACgB,UAAU,CAAX,GAAA,EAAT,SAAS,CAAT;QAAsCC,OAAtC,EAAsCA,OAAtC;QAA+CN,cAAAA,EAAAA;MAA/C,CAAP;IADF,CAAA,MAEO;MACL,OAAO;QAAEX,KAAK,EAAEgB,UAAU,CAAnB,GAAA;QAAyBC,OAAzB,EAAyBA,OAAzB;QAAkCN,cAAAA,EAAAA;MAAlC,CAAP;IAZ2D;EAApB,CAAA,EAexC,CAEDO,UAAU,CAFT,iBAES,CAFT,EAAA,KAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,UAAA,EAAA,SAAA,EAAA,mBAAA,EAfH,KAeG,CAfwC,CAA3C;EAAA,IAAM,KAAN,kBAAM,KAAN;EAAA,IAAM,OAAN,kBAAM,OAAN;EAAA,IAAwBP,cAAxB,kBAAwBA,cAAxB;;EA0BA,IAAIQ,OAAO,CAAPA,GAAAA,CAAAA,QAAAA,KAAAA,aAAAA,IAAJ,KAAA,EAAqD;IAEnDC,OAAO,CAAPA,GAAAA,CAAAA,gBAAAA,EAAAA,iBAAAA;EACD;;EAEDX,SAAS,CAATA,OAAAA,mCAAyBA,SAAS,CAAd,OAApBA,GAA+CQ,OAA/CR;EAEA,OAAO,CAAA,KAAA,EAAA,SAAA,EAAP,cAAO,CAAP;AAlDK,CAAA","sourcesContent":["import { getStyleAndFilteredProps } from '../theme/styled-system';\nimport { useTheme } from './useTheme';\nimport React from 'react';\nimport { useNativeBaseConfig } from '../core/NativeBaseContext';\nimport { useResponsiveQuery } from '../utils/useResponsiveQuery';\nimport { getStyledSystemPropsAndRestProps } from '../utils/getStyledSystemPropsAndRestProps';\n//@ts-ignore\nimport stableHash from 'stable-hash';\n\nexport const useStyledSystemPropsResolver = ({\n  style: propStyle,\n  debug,\n  ...props\n}: any) => {\n  const theme = useTheme();\n  const { currentBreakpoint, config } = useNativeBaseConfig(\n    'makeStyledComponent'\n  );\n  const strictMode = config.strictMode;\n\n  const { getResponsiveStyles } = useResponsiveQuery();\n\n  const { styledSystemProps, restProps } = getStyledSystemPropsAndRestProps(\n    props\n  );\n\n  const { style, dataSet, styleFromProps } = React.useMemo(() => {\n    const { styleSheet, dataSet, styleFromProps } = getStyleAndFilteredProps({\n      styledSystemProps,\n      theme,\n      debug,\n      currentBreakpoint,\n      strictMode,\n      getResponsiveStyles,\n    });\n    if (propStyle) {\n      return { style: [styleSheet.box, propStyle], dataSet, styleFromProps };\n    } else {\n      return { style: styleSheet.box, dataSet, styleFromProps };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    stableHash(styledSystemProps),\n    theme,\n    debug,\n    currentBreakpoint,\n    strictMode,\n    propStyle,\n    getResponsiveStyles,\n    props,\n  ]);\n  if (process.env.NODE_ENV === 'development' && debug) {\n    /* eslint-disable-next-line */\n    console.log('style,resprops', currentBreakpoint);\n  }\n\n  restProps.dataSet = { ...restProps.dataSet, ...dataSet };\n\n  return [style, restProps, styleFromProps];\n};\n"]},"metadata":{},"sourceType":"module"}